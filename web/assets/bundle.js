!function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="/assets",t(0)}([function(e,t,s){"use strict";var r=s(1),n=s(10),i=s(11),a=s(15),o=r.createClass({displayName:"App",render:function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-8"},r.createElement(n,{events:this.props.events})),r.createElement("div",{className:"col-md-4"},r.createElement(i,{rfcs:this.props.rfcs})))}});a.on("change",function(){r.render(r.createElement(o,{events:a.getAllActive(),rfcs:a.getRfcs()}),document.getElementById("content"))}),a.fetch(),setInterval(function(){a.fetch()},6e4)},function(e){e.exports=React},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var s,r,n=t(e),i=1;i<arguments.length;i++){s=arguments[i],r=Object.keys(Object(s));for(var a=0;a<r.length;a++)n[r[a]]=s[r[a]]}return n}},function(e,t,s){var r=s(4).Dispatcher,n=s(2),i=n(new r,{emitServer:function(e,t){this.dispatch({source:"server",type:e,action:t})},emitView:function(e,t){this.dispatch({source:"view",type:e,action:t})}});e.exports=i},function(e,t,s){e.exports.Dispatcher=s(5)},function(e,t,s){"use strict";function r(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var n=s(6),i=1,a="ID_";r.prototype.register=function(e){var t=a+i++;return this.$Dispatcher_callbacks[t]=e,t},r.prototype.unregister=function(e){n(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},r.prototype.waitFor=function(e){n(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var s=e[t];this.$Dispatcher_isPending[s]?n(this.$Dispatcher_isHandled[s],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",s):(n(this.$Dispatcher_callbacks[s],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",s),this.$Dispatcher_invokeCallback(s))}},r.prototype.dispatch=function(e){n(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},r.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},r.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},r.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},r.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},e.exports=r},function(e){"use strict";var t=function(e,t,s,r,n,i,a,o){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[s,r,n,i,a,o],h=0;c=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[h++]}))}throw c.framesToPop=1,c}};e.exports=t},function(e,t,s){var r=s(1);e.exports=r.createClass({displayName:"exports",time:function(){var e=new Date(this.props.data.date);return e.toLocaleString()},render:function(){return r.createElement("li",null,r.createElement("i",{className:"fa fa-volume-up bg-green"}),r.createElement("div",{className:"timeline-item"},r.createElement("span",{className:"time"},r.createElement("i",{className:"fa fa-clock-o"})," ",this.time()),r.createElement("h3",{className:"timeline-header"},"User voted"),r.createElement("div",{className:"timeline-body"},r.createElement("strong",null,this.props.data.user)," voted ",r.createElement("strong",null,this.props.data.option)," on RFC ",r.createElement("a",{href:this.props.data.vote.url},this.props.data.vote.title))))}})},function(e,t,s){var r=s(1);e.exports=r.createClass({displayName:"exports",time:function(){var e=new Date(this.props.data.date);return e.toLocaleString()},render:function(){return r.createElement("li",null,r.createElement("i",{className:"fa fa-close bg-red"}),r.createElement("div",{className:"timeline-item"},r.createElement("span",{className:"time"},r.createElement("i",{className:"fa fa-clock-o"})," ",this.time()),r.createElement("h3",{className:"timeline-header"},"Vote closed"),r.createElement("div",{className:"timeline-body"},this.props.data.user," closed the vote on RFC ",r.createElement("a",{href:this.props.data.vote.url},this.props.data.vote.title))))}})},function(e,t,s){var r=s(1);e.exports=r.createClass({displayName:"exports",time:function(){var e=new Date(this.props.data.date);return e.toLocaleString()},render:function(){return r.createElement("li",null,r.createElement("i",{className:"fa fa-bullhorn bg-blue"}),r.createElement("div",{className:"timeline-item"},r.createElement("span",{className:"time"},r.createElement("i",{className:"fa fa-clock-o"})," ",this.time()),r.createElement("h3",{className:"timeline-header"},"Vote opened"),r.createElement("div",{className:"timeline-body"},r.createElement("strong",null,this.props.data.user)," opened vote on RFC ",r.createElement("a",{href:this.props.data.vote.url},this.props.data.vote.title))))}})},function(e,t,s){var r=s(1),n=s(7),i=s(9),a=s(8);e.exports=r.createClass({displayName:"exports",propTypes:{events:r.PropTypes.array},renderEventItem:function(e,t){switch(e.type){case"UserVoted":return r.createElement(n,{data:e,key:t});case"VoteOpened":return r.createElement(i,{data:e,key:t});case"VoteClosed":return r.createElement(a,{data:e,key:t})}},render:function(){return r.createElement("ul",{className:"timeline"},this.props.events.map(this.renderEventItem),r.createElement("li",null,r.createElement("i",{className:"fa fa-clock-o bg-gray"})))}})},function(e,t,s){var r=s(1),n=s(12);e.exports=r.createClass({displayName:"exports",renderRfcItem:function(e,t){return r.createElement(n,{rfc:e,key:t})},render:function(){return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header"},r.createElement("h3",{className:"box-title"},"RFCs")),r.createElement("div",{className:"box-body"},r.createElement("ul",null,this.props.rfcs.map(this.renderRfcItem))))}})},function(e,t,s){var r=s(1),n=s(3),i=s(13);e.exports=r.createClass({displayName:"exports",getInitialState:function(){return{visible:!0}},handleChange:function(){var e=!this.state.visible;this.setState({visible:e}),n.emitView("RfcVisibilityToggled",{Id:this.props.rfc.id,Visible:e})},render:function(){return r.createElement("li",null,r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.visible,onChange:this.handleChange}),this.props.rfc.title),r.createElement(i,{results:this.props.rfc.results})))}})},function(e,t,s){var r=s(1);e.exports=r.createClass({displayName:"exports",renderVote:function(e){var t=Math.round(100*e.share,2);return r.createElement("li",null,e.option,": ",e.votes," (",t,"%)")},computeTotalVotesCasted:function(){for(var e=0,t=0;t<this.props.results.length;t++)e+=this.props.results[t].votes;return e},render:function(){return r.createElement("ul",null,r.createElement("li",null,"Votes casted: ",this.computeTotalVotesCasted()),this.props.results.map(this.renderVote))}})},function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function r(e){return"number"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,r,a,o,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],i(r))return!1;if(s(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(a=arguments.length,o=new Array(a-1),c=1;a>c;c++)o[c-1]=arguments[c];r.apply(this,o)}else if(n(r)){for(a=arguments.length,o=new Array(a-1),c=1;a>c;c++)o[c-1]=arguments[c];for(l=r.slice(),a=l.length,c=0;a>c;c++)l[c].apply(this,o)}return!0},t.prototype.addListener=function(e,r){var a;if(!s(r))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(r.listener)?r.listener:r),this._events[e]?n(this._events[e])?this._events[e].push(r):this._events[e]=[this._events[e],r]:this._events[e]=r,n(this._events[e])&&!this._events[e].warned){var a;a=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},t.prototype.removeListener=function(e,t){var r,i,a,o;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||s(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(r)){for(o=a;o-->0;)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],s(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?s(e._events[t])?1:e._events[t].length:0}},function(e,t,s){var r=s(3),n=s(14).EventEmitter,i=s(2),a=[],o=[],c=[],l=function(e,t){for(var s=t.length,r=0;s>r;r++)if(t[r]===e)return!0;return!1},h=i({},n.prototype,{fetchSuccess:function(e){if(a=e.events,o=e.rfcs,0==c.length)for(var t in o){var s=o[t];c.push(s.id)}this.emit("change")},fetch:function(){$.ajax({url:"/data.json",success:this.fetchSuccess.bind(this)})},getRfcs:function(){return o},getAllActive:function(){return a.filter(function(e){return l(e.vote.id,c)})},getAll:function(){return a}});h.dispatchToken=r.register(function(e){var t={RfcVisibilityToggled:function(e){if(e.Visible)c.push(e.Id);else{var t=c.indexOf(e.Id);t>-1&&c.splice(t,1)}h.emit("change")}};return t[e.type]&&t[e.type](e.action)}),e.exports=h}]);